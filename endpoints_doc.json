{
    "api_version": "1.2.0",
    "base_url": "/api",
    "endpoints": {
        "Leads & Metrics": [
            {
                "path": "/leads/count",
                "method": "GET",
                "description": "Obtiene el conteo total de leads únicos en los últimos 7 días.",
                "response": "{ success: true, data: { count: number }, message: string }"
            },
            {
                "path": "/leads/contacted",
                "method": "GET",
                "description": "Obtiene el total de mensajes contactados en los últimos 7 días.",
                "response": "{ success: true, data: { count: number } }"
            },
            {
                "path": "/leads/conversions",
                "method": "GET",
                "description": "Obtiene el total de citas/conversiones en los últimos 7 días.",
                "response": "{ success: true, data: { count: number } }"
            },
            {
                "path": "/leads/avg-time",
                "method": "GET",
                "description": "Calcula el tiempo promedio de respuesta en minutos.",
                "response": "{ success: true, data: { value: string } }"
            },
            {
                "path": "/leads/weekly",
                "method": "GET",
                "description": "Datos para el gráfico semanal de leads.",
                "response": "{ success: true, data: Array<{ name: string, leads: number }> }"
            }
        ],
        "Chat & Messaging": [
            {
                "path": "/leads/chats",
                "method": "GET",
                "description": "Lista de conversaciones para la sidebar del chat.",
                "response": "{ success: true, data: Array<{ remitente_wa_id: string, last_interaction: date, last_incoming: date }> }"
            },
            {
                "path": "/leads/:wa_id/conversation",
                "method": "GET",
                "description": "Historial completo de mensajes de un usuario de WhatsApp.",
                "params": {
                    "wa_id": "ID de WhatsApp del remitente"
                }
            },
            {
                "path": "/messages/outbound",
                "method": "POST",
                "description": "Registra un mensaje en la tabla mensajes_out para envío manual.",
                "body": {
                    "wa_id": "string",
                    "message": "string"
                }
            }
        ],
        "Vacancies (Sophia)": [
            {
                "path": "/vacantes",
                "method": "GET",
                "description": "Lista de vacantes activa. Filtrado por cliente para Admin/Analista.",
                "query": {
                    "permission_level": "Nivel de acceso",
                    "client_id": "ID del cliente (propietario)",
                    "search_id_cliente": "Opcional: ID para búsqueda de SuperAdmin"
                }
            },
            {
                "path": "/vacantes",
                "method": "POST",
                "description": "Crea una nueva vacante y sus condiciones generales (Transaccional).",
                "body": {
                    "nombre": "string",
                    "client_id": "number",
                    "sueldo": "number?",
                    "horarios": "string?",
                    "beneficios": "string?"
                }
            },
            {
                "path": "/vacantes/:id/faq",
                "method": "PUT",
                "description": "Actualiza el set de preguntas frecuentes dinámicas de una vacante.",
                "body": {
                    "faqs": "Array<item>",
                    "cliente_id": "number"
                }
            },
            {
                "path": "/vacantes/:id/full",
                "method": "GET",
                "description": "Obtiene todo el conocimiento (condiciones + FAQs) de una vacante."
            }
        ],
        "User Management": [
            {
                "path": "/login",
                "method": "POST",
                "description": "Autenticación de usuarios. Soporta ID y Password (bcrypt).",
                "body": {
                    "id": "string",
                    "password": "password"
                }
            },
            {
                "path": "/users",
                "method": "GET",
                "description": "Lista de usuarios del sistema.",
                "query": {
                    "client_id": "filtro",
                    "permission_level": "permiso"
                }
            },
            {
                "path": "/users",
                "method": "POST",
                "description": "Crea un nuevo usuario con contraseña hasheada.",
                "body": {
                    "id": "string",
                    "name": "string",
                    "password": "...",
                    "client_id": "number"
                }
            },
            {
                "path": "/logs",
                "method": "GET",
                "description": "Historial de auditoría (Logins, acciones críticas)."
            }
        ],
        "Clients": [
            {
                "path": "/clients",
                "method": "GET",
                "description": "Lista de clientes registrados (Solo SuperAdmin)."
            },
            {
                "path": "/clients",
                "method": "POST",
                "description": "Registra una nueva empresa/cliente.",
                "body": {
                    "name": "string",
                    "admin_id": "ID del ejecutor"
                }
            }
        ]
    }
}